let parallaxStartPos,previousScroll=0,scrollOffsetY=1;const parallaxBG=document.querySelectorAll(".parallax"),homePage=document.querySelector(".home-page");function moveBackground(e){if(window.innerWidth>1024){let o=e.pageY-window.pageYOffset-e.target.getBoundingClientRect().top+1,t=50+e.pageX/window.innerWidth*20,n=50+o/window.innerHeight*10;e.target.style.backgroundPosition=`${t}% ${n}%`}}parallaxBG.forEach((e=>{e.addEventListener("mousemove",(function(e){moveBackground(e)}))}));
const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=800;if(popupLinks.length>0)for(let o=0;o<popupLinks.length;o++){const e=popupLinks[o];e.addEventListener("click",(function(o){console.log("popupActive");const n=e.getAttribute("href").replace("#","");popupOpen(document.getElementById(n)),o.preventDefault()}))}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let o=0;o<popupCloseIcon.length;o++){const e=popupCloseIcon[o];e.addEventListener("click",(function(o){popupClose(e.closest(".popup")),o.preventDefault()}))}function popupOpen(o){if(o&&unlock){const e=document.querySelector(".popup.open");e?popupClose(e,!1):bodyLock(),o.classList.add("open"),o.addEventListener("click",(function(o){o.target.closest(".popup_content")||popupClose(o.target.closest(".popup"))}))}}function popupClose(o,e=!0){unlock&&(o.classList.remove("open"),e&&bodyUnLock())}function bodyLock(){const o=window.innerWidth-document.querySelector("section").offsetWidth+"px";if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight=o}body.style.paddingRight=o,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let o=0;o<lockPadding.length;o++){lockPadding[o].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),800),unlock=!1,setTimeout((function(){unlock=!0}),800)}document.addEventListener("keydown",(function(o){if(27===o.which){popupClose(document.querySelector(".popup.open"))}}));
const header=document.querySelector(".header"),arrowUp=document.querySelector(".arrow-up");let lastScrollTop=0;function navMenuBackground(){let e=window.pageYOffset||document.documentElement.scrollTop;e>lastScrollTop?header.classList.add("header-hidden"):header.classList.remove("header-hidden"),lastScrollTop=e<=0?0:e,window.pageYOffset>window.innerHeight/4?header.style.backgroundColor="#c0301c":header.style.backgroundColor="transparent",e>window.innerHeight/2?arrowUp.classList.add("active"):arrowUp.classList.remove("active")}window.addEventListener("scroll",navMenuBackground),homePage.style.height=window.innerHeight+"px";const animItems=document.querySelectorAll("._anim-items");if(animItems.length>0){function animOnScroll(){animItems.forEach((e=>{const t=e,i=t.offsetHeight,n=offset(t).top;let o=window.innerHeight-i/4;i>window.innerHeight&&(o=window.innerHeight-window.innerHeight/4),window.pageYOffset>n-o&&window.pageYOffset<n+i?t.classList.add("_active"):t.classList.contains("_anim-no-hide")||t.classList.remove("_active")}))}function offset(e){const t=e.getBoundingClientRect();let i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+n,left:t.left+i}}window.addEventListener("scroll",animOnScroll),setTimeout((()=>{animOnScroll()}),300)}let firstVisit,lastVisit,timeInSite,titleHome=document.querySelector(".title-home");window.onload=function(){localStorage.firstVisit&&"undefined"!=localStorage.firstVisit||(localStorage.firstVisit=new Date,titleHome.innerText="Welcome to STARTUP"),firstVisit=localStorage.firstVisit,localStorage.lastVisit||(localStorage.lastVisit=firstVisit),timeInSite=(new Date-new Date(localStorage.lastVisit))/1e3/60,(new Date-new Date(localStorage.firstVisit))/1e3/60<=5?titleHome.innerText="Welcome to STARTUP":timeInSite<5?titleHome.innerText="glad to see you again":timeInSite>=1440?titleHome.innerText="you were gone for a day, welcome to STARTUP":timeInSite>=5&&(titleHome.innerText="welcome back to STARTUP"),window.onblur=function(){localStorage.lastVisit=new Date},lastVisit=localStorage.lastVisit};const tripleClick=document.querySelector(".rock-solid svg"),changeClicks=document.querySelectorAll(".services-card h3");let timer;function changeInClick(){changeClicks.forEach((e=>{e.innerText="Yeah, you did triple-click!!!"}))}tripleClick.addEventListener("dblclick",(function(){timer=setTimeout((function(){timer=null}),200)})),tripleClick.addEventListener("click",(function(){timer&&(clearTimeout(timer),timer=null,changeInClick())}));
let interval;function scrollToBlock(e){let n,o,t=document.querySelector(e),i=t.getBoundingClientRect().top+window.pageYOffset,c=window.pageYOffset,s=1;!header.classList.contains("header-hidden")&&i<window.pageYOffset&&(i=t.getBoundingClientRect().top+window.pageYOffset-header.offsetHeight),n=i>c?"down":"up",clearInterval(interval),interval=setInterval((()=>{o=Math.abs(i-window.pageYOffset),s<=50&&o>.35*window.innerHeight?s*=1.2:o<.35*window.innerHeight&&s>3&&(s*=.8),"down"==n?window.scrollTo(0,window.pageYOffset+s):window.scrollTo(0,window.pageYOffset-s),Math.abs(window.pageYOffset-i)<=3?(window.scrollTo(0,i),clearInterval(interval)):Math.abs(window.pageYOffset+window.innerHeight-document.body.getBoundingClientRect().height)<5&&clearInterval(interval)}),20)}const iconMenu=document.querySelector(".menu-icon"),homeMenuLinks=document.querySelectorAll(".scroll-to"),menuBody=document.querySelector(".menu-body");if(iconMenu&&iconMenu.addEventListener("click",(function(e){document.body.classList.add("lock"),iconMenu.classList.toggle("open-menu"),menuBody.classList.toggle("open-menu")})),homeMenuLinks.length>0){function onMenuLinkClick(e){if(document.querySelector(e)){const n=document.querySelector(e);let o=n.getBoundingClientRect().top+window.pageYOffset;!header.classList.contains("header-hidden")&&o<window.pageYOffset&&(o=n.getBoundingClientRect().top+window.pageYOffset-header.offsetHeight),iconMenu.classList.contains("open-menu")&&(document.body.classList.remove("lock"),iconMenu.classList.remove("open-menu"),menuBody.classList.remove("open-menu")),window.scrollTo({top:o,behavior:"smooth"})}}homeMenuLinks.forEach((e=>{e.onclick=function(e){e.preventDefault(),onMenuLinkClick(this.getAttribute("href"))}}))}
function infinitySlider(e,l){let o,t,i,n,r,s,c=0,d=document.querySelector(e),a=d.querySelector(".slider-container"),h=a.children,S=a.getBoundingClientRect().width,g=d.querySelector(".slider_navigation#prev"),f=d.querySelector(".slider_navigation#next");d.querySelectorAll(".clone").forEach((e=>{e.remove()})),localStorage.constCardWidth?o=localStorage.constCardWidth:(o=h[0].getBoundingClientRect().width,localStorage.constCardWidth=o),t=Math.floor(S/o),l={slidesToShow:1,slidesToScroll:1,gap:20,arrows:!0,autoplay:!0,autoplaySpeed:3e3,responsive:[],...l},n=l.gap,i=(S-(t-1)*n)/t,c=0-(n+i);for(let e=1;e<=l.slidesToScroll;e++)r=h[h.length-e].cloneNode(!0),r.classList.add("clone"),a.insertAdjacentElement("afterbegin",r);h=a.children;for(let e=0;e<h.length;e++)h[e].style.width=i+"px";function p(){c=0-(n+i),!l.arrows||h.length-1<=t?(g.style.display="none",f.style.display="none"):(g.style.display="block",f.style.display="block"),h=a.children;for(let e=0;e<h.length;e++)h[e].style.left=c+"px",c+=n+i}function y(e){if("left"==e){h[h.length-1].remove();let e=h[h.length-1].cloneNode(!0);a.insertAdjacentElement("afterbegin",e)}else if("right"==e){h[0].remove();let e=h[0].cloneNode(!0);a.insertAdjacentElement("beforeend",e)}p()}h=a.children,s=h[0].getBoundingClientRect().height,s<325&&(s=325),a.style.height=s+"px",p(),g.onclick=function(){y("left")},f.onclick=function(){y("right")}}function $(e){let l=document.querySelectorAll(e);return 1==l.length?l[0]:l}window.onresize=function(){infinitySlider(".slider",{responsive:[{brackpoint:625,slidesToShow:2,slidesToScroll:1,arrows:!0},{brackpoint:900,slidesToShow:3,slidesToScroll:1,arrows:!0},{brackpoint:1100,slidesToShow:4,slidesToScroll:1,arrows:!0}]})},infinitySlider(".slider",{responsive:[{brackpoint:625,slidesToShow:2,slidesToScroll:1,arrows:!0},{brackpoint:900,slidesToShow:3,slidesToScroll:1,arrows:!0},{brackpoint:1100,slidesToShow:4,slidesToScroll:1,arrows:!0}]});